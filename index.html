<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolicyRadar - India's Policy Intelligence Platform</title>
    <meta name="description" content="Track Indian policy developments across 270+ sources. Real-time aggregation of government notifications, regulatory updates, and policy news.">
    <meta name="keywords" content="India policy, government notifications, SEBI, RBI, regulatory updates, policy news">
    <link rel="canonical" href="https://policyradar.in/">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="data/initial.json" as="fetch" crossorigin>
    
    <!-- Open Graph -->
    <meta property="og:title" content="PolicyRadar - India's Policy Intelligence Platform">
    <meta property="og:description" content="Track Indian policy developments across 270+ sources.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://policyradar.in/">
    <meta property="og:image" content="https://policyradar.in/og-image.png">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@PolicyRadarIN">
    <meta name="twitter:title" content="PolicyRadar - India's Policy Intelligence Platform">
    <meta name="twitter:description" content="Track Indian policy developments across 270+ sources.">
    
    <!-- Structured Data (Enhanced) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "PolicyRadar",
        "alternateName": "PolicyRadar India",
        "url": "https://policyradar.in",
        "description": "India's policy intelligence platform aggregating news from 270+ government and media sources",
        "inLanguage": "en-IN",
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://policyradar.in/?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@type": "Organization",
            "name": "PolicyRadar",
            "url": "https://policyradar.in",
            "sameAs": [
                "https://twitter.com/PolicyRadarIN",
                "https://linkedin.com/company/policyradarin"
            ]
        }
    }
    </script>
    
    <!-- Favicon (adaptive for dark mode) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì°</text></svg>">
    
    <!-- jsPDF for PDF export (deferred) -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>    
    <style>
        /* ========================================
           CSS CUSTOM PROPERTIES
           ======================================== */
        :root {
            /* Colors - Light Mode (WCAG AA Compliant) */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #111827;
            --text-secondary: #374151;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
            --accent-primary: #2563eb;
            --accent-secondary: #3b82f6;
            --accent-glow: rgba(37, 99, 235, 0.1);
            
            /* Priority Colors */
            --critical-color: #dc2626;
            --critical-bg: #fef2f2;
            --high-color: #d97706;
            --high-bg: #fffbeb;
            --medium-color: #059669;
            --medium-bg: #ecfdf5;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            
            /* Radii */
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 16px;
            --radius-full: 9999px;
            
            /* Spacing */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            
            /* Transitions */
            --transition-fast: 0.15s ease;
            --transition-normal: 0.2s ease;
        }
        
        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #1e293b;
            --bg-elevated: #283548;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --accent-glow: rgba(59, 130, 246, 0.15);
            
            --critical-bg: rgba(220, 38, 38, 0.15);
            --high-bg: rgba(217, 119, 6, 0.15);
            --medium-bg: rgba(5, 150, 105, 0.15);
            
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        /* ========================================
           BASE STYLES
           ======================================== */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }
        
        /* ... REST OF CSS ... */
        /* (keeping the same CSS as original - abbreviated for space) */
        
        .skip-link { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); padding: var(--space-3) var(--space-6); background: var(--accent-primary); color: white; text-decoration: none; border-radius: var(--radius-sm); font-weight: 600; z-index: 10000; transition: top var(--transition-fast); }
        .skip-link:focus { top: var(--space-4); }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
        *:focus-visible { outline: 2px solid var(--accent-primary); outline-offset: 2px; }
        *:focus:not(:focus-visible) { outline: none; }
        .header { position: sticky; top: 0; z-index: 100; background: var(--bg-card); border-bottom: 1px solid var(--border-color); box-shadow: var(--shadow-sm); }
        .header-content { max-width: 1400px; margin: 0 auto; padding: var(--space-4) var(--space-8); display: flex; align-items: center; justify-content: space-between; gap: var(--space-4); }
        .header-left { display: flex; align-items: center; gap: var(--space-4); }
        .logo { display: flex; align-items: center; gap: var(--space-2); font-size: 1.25rem; font-weight: 700; color: var(--accent-primary); text-decoration: none; }
        .logo-icon { font-size: 1.5rem; }
        .logo-badge { font-size: 0.625rem; font-weight: 600; padding: 0.125rem 0.375rem; background: var(--accent-glow); color: var(--accent-primary); border-radius: var(--radius-sm); text-transform: uppercase; letter-spacing: 0.05em; }
        .header-nav { display: flex; gap: var(--space-1); padding: var(--space-1); background: var(--bg-secondary); border-radius: var(--radius-md); border: 2px solid var(--accent-primary); }
        .nav-link { padding: var(--space-2) var(--space-4); font-size: 0.8125rem; font-weight: 500; color: var(--text-secondary); text-decoration: none; border-radius: var(--radius-sm); transition: all var(--transition-fast); }
        .nav-link:hover { color: var(--text-primary); background: var(--bg-primary); }
        .nav-link.active { color: white; background: var(--accent-primary); font-weight: 600; }
        .header-right { display: flex; align-items: center; gap: var(--space-4); }
        .freshness-indicator { display: flex; align-items: center; gap: var(--space-2); font-size: 0.75rem; color: var(--text-muted); }
        .freshness-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--medium-color); animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .header-actions { display: flex; align-items: center; gap: var(--space-2); }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-2); padding: var(--space-2) var(--space-3); font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); cursor: pointer; transition: all var(--transition-fast); }
        .btn:hover { color: var(--accent-primary); border-color: var(--accent-primary); background: var(--accent-glow); }
        .btn-icon { padding: var(--space-2); }
        .btn-primary { color: white; background: var(--accent-primary); border-color: var(--accent-primary); }
        .btn-primary:hover { background: var(--accent-secondary); }
        .social-links { display: flex; gap: var(--space-2); }
        .social-links a { color: var(--text-muted); text-decoration: none; font-size: 1rem; transition: color var(--transition-fast); }
        .social-links a:hover { color: var(--accent-primary); }
        .filter-bar { background: var(--bg-card); border-bottom: 1px solid var(--border-color); padding: var(--space-4) var(--space-8); }
        .filter-content { max-width: 1400px; margin: 0 auto; }
        .filter-row { display: flex; align-items: center; gap: var(--space-3); flex-wrap: wrap; justify-content: center; margin-bottom: var(--space-3); }
        .filter-row:last-child { margin-bottom: 0; justify-content: flex-start; }
        .filter-group { display: flex; align-items: center; gap: var(--space-2); }
        .filter-label { font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted); }
        .filter-divider { width: 1px; height: 24px; background: var(--border-color); }
        .search-wrapper { position: relative; display: flex; align-items: center; }
        .search-input { width: 200px; padding: var(--space-2) var(--space-3); padding-right: 3.5rem; font-size: 0.875rem; color: var(--text-primary); background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); transition: all var(--transition-fast); }
        .search-input:focus { width: 280px; border-color: var(--accent-primary); box-shadow: 0 0 0 3px var(--accent-glow); }
        .search-input::placeholder { color: var(--text-muted); }
        .search-kbd { position: absolute; right: 0.5rem; padding: 0.125rem 0.375rem; font-size: 0.6875rem; font-family: monospace; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-muted); pointer-events: none; }
        .search-clear { position: absolute; right: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.75rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-muted); cursor: pointer; }
        .search-clear:hover { background: var(--accent-primary); color: white; border-color: var(--accent-primary); }
        .search-clear.hidden { display: none; }
        .filter-btn { padding: var(--space-1) var(--space-3); font-size: 0.8125rem; color: var(--text-secondary); background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); cursor: pointer; transition: all var(--transition-fast); }
        .filter-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }
        .filter-btn.active { color: white; background: var(--accent-primary); border-color: var(--accent-primary); }
        .filter-btn.critical.active { background: var(--critical-color); border-color: var(--critical-color); }
        .filter-btn.high.active { background: var(--high-color); border-color: var(--high-color); }
        .priority-dot { display: inline-block; width: 6px; height: 6px; border-radius: 50%; margin-right: var(--space-1); }
        .priority-dot.critical { background: var(--critical-color); }
        .priority-dot.high { background: var(--high-color); }
        .domain-filter-row { padding: var(--space-2) var(--space-6); border-bottom: 1px solid var(--border-color); background: var(--bg-secondary); overflow-x: auto; -webkit-overflow-scrolling: touch; }
        .domain-pills { display: flex; gap: var(--space-2); min-width: max-content; }
        .domain-pill { display: inline-flex; align-items: center; gap: var(--space-1); padding: var(--space-2) var(--space-3); font-size: 0.8125rem; font-weight: 500; color: var(--text-secondary); background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-fast); white-space: nowrap; }
        .domain-pill:hover { border-color: var(--accent-primary); background: var(--accent-glow); }
        .domain-pill.active { background: var(--accent-primary); border-color: var(--accent-primary); color: white; }
        .subsector-filter-row { padding: var(--space-2) var(--space-6); border-bottom: 1px solid var(--border-color); background: var(--bg-primary); display: flex; align-items: center; gap: var(--space-3); overflow-x: auto; -webkit-overflow-scrolling: touch; }
        .subsector-label { font-size: 0.75rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap; }
        .subsector-pills { display: flex; gap: var(--space-2); }
        .subsector-pill { display: inline-flex; align-items: center; gap: var(--space-1); padding: var(--space-1) var(--space-3); font-size: 0.75rem; font-weight: 500; color: var(--text-secondary); background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-full); cursor: pointer; transition: all var(--transition-fast); white-space: nowrap; }
        .subsector-pill:hover { border-color: var(--accent-primary); background: var(--accent-glow); }
        .subsector-pill.active { background: var(--accent-primary); border-color: var(--accent-primary); color: white; }
        .filter-summary { display: flex; align-items: center; gap: var(--space-3); margin-left: auto; font-size: 0.75rem; color: var(--text-muted); }
        .filter-count { font-weight: 500; }
        .filter-clear-all { padding: var(--space-1) var(--space-2); font-size: 0.75rem; color: var(--text-muted); background: transparent; border: 1px dashed var(--border-color); border-radius: var(--radius-sm); cursor: pointer; }
        .filter-clear-all:hover { color: var(--accent-primary); border-color: var(--accent-primary); }
        .main { max-width: 1400px; margin: 0 auto; padding: var(--space-8); display: grid; grid-template-columns: 300px 1fr; gap: var(--space-8); }
        @media (max-width: 1024px) { .main { grid-template-columns: 1fr; padding: var(--space-4); } .sidebar { order: 2; } .articles-section { order: 1; } }
        .sidebar { display: flex; flex-direction: column; gap: var(--space-6); }
        .card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--space-5); box-shadow: var(--shadow-sm); }
        .card-title { display: flex; align-items: center; gap: var(--space-2); font-size: 0.875rem; font-weight: 600; color: var(--text-secondary); margin-bottom: var(--space-4); }
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-3); }
        .stat-item { padding: var(--space-4); text-align: center; background: var(--bg-secondary); border-radius: var(--radius-sm); position: relative; overflow: hidden; }
        .stat-item.critical::before, .stat-item.high::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; }
        .stat-item.critical::before { background: var(--critical-color); }
        .stat-item.high::before { background: var(--high-color); }
        .stat-value { font-size: 1.75rem; font-weight: 700; color: var(--text-primary); line-height: 1.2; }
        .stat-label { font-size: 0.6875rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: var(--space-1); }
        .stat-trend { font-size: 0.6875rem; margin-top: var(--space-2); display: flex; align-items: center; justify-content: center; gap: var(--space-1); }
        .stat-trend.up { color: var(--medium-color); }
        .stat-trend.down { color: var(--critical-color); }
        .critical-summary { background: linear-gradient(135deg, var(--critical-bg) 0%, var(--bg-card) 100%); border: 1px solid var(--critical-color); border-left: 4px solid var(--critical-color); border-radius: var(--radius-md); padding: var(--space-3) var(--space-4); margin-bottom: var(--space-4); display: none; }
        .critical-summary.visible { display: block; }
        .critical-summary-header { display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2); }
        .critical-summary-header .pulse { width: 8px; height: 8px; background: var(--critical-color); border-radius: 50%; animation: pulse 2s infinite; }
        .critical-summary-header span { font-weight: 600; font-size: 0.875rem; color: var(--critical-color); }
        .critical-summary-header .expand-btn { margin-left: auto; font-size: 0.75rem; color: var(--accent-primary); background: none; border: none; cursor: pointer; padding: var(--space-1) var(--space-2); }
        .critical-summary-preview { font-size: 0.8125rem; color: var(--text-secondary); }
        .critical-summary-preview a { color: inherit; text-decoration: none; }
        .critical-summary-preview a:hover { color: var(--accent-primary); }
        .story-clusters-list { display: flex; flex-direction: column; gap: var(--space-3); }
        .story-cluster { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--radius-sm); overflow: hidden; }
        .story-cluster-header { padding: var(--space-3); cursor: pointer; display: flex; flex-direction: column; gap: var(--space-2); transition: background var(--transition-fast); }
        .story-cluster-header:hover { background: var(--border-color); }
        .story-cluster-headline { font-size: 0.875rem; font-weight: 600; color: var(--text-primary); line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .story-cluster-meta { display: flex; gap: var(--space-2); flex-wrap: wrap; align-items: center; }
        .story-cluster-badge { font-size: 0.6875rem; padding: 0.125rem var(--space-2); border-radius: var(--radius-full); background: var(--accent-primary); color: white; font-weight: 500; }
        .story-cluster-entities { font-size: 0.75rem; color: var(--text-muted); }
        .story-cluster-entities span { background: var(--border-color); padding: 0.125rem var(--space-2); border-radius: 4px; margin-right: var(--space-1); }
        .story-cluster-expand { font-size: 0.75rem; color: var(--accent-primary); margin-left: auto; transition: transform var(--transition-fast); }
        .story-cluster.expanded .story-cluster-expand { transform: rotate(180deg); }
        .story-cluster-perspectives { display: none; border-top: 1px solid var(--border-color); padding: var(--space-3); background: var(--bg-card); }
        .story-cluster.expanded .story-cluster-perspectives { display: block; }
        .perspective-item { padding: var(--space-2) 0; border-bottom: 1px solid var(--border-color); }
        .perspective-item:last-child { border-bottom: none; }
        .perspective-source { font-size: 0.75rem; color: var(--text-muted); font-weight: 500; }
        .perspective-title { font-size: 0.8125rem; color: var(--accent-primary); text-decoration: none; display: block; margin-top: var(--space-1); }
        .perspective-title:hover { text-decoration: underline; }
        .perspective-unique { font-size: 0.75rem; color: var(--text-muted); margin-top: var(--space-1); font-style: italic; }
        .newsletter-cta { text-align: center; }
        .newsletter-cta p { font-size: 0.8125rem; color: var(--text-secondary); margin-bottom: var(--space-3); }
        .newsletter-cta .btn { width: 100%; }
        .articles-section { min-height: 500px; }
        .articles-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4); }
        .articles-header h2 { font-size: 1.125rem; font-weight: 600; }
        .articles-grid { display: flex; flex-direction: column; gap: var(--space-4); }
        .article-card { --priority-color: var(--medium-color); background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--space-5); position: relative; transition: transform var(--transition-fast), box-shadow var(--transition-fast); }
        .article-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: var(--priority-color); border-radius: var(--radius-md) 0 0 var(--radius-md); }
        .article-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .article-card.critical { --priority-color: var(--critical-color); }
        .article-card.high { --priority-color: var(--high-color); }
        .article-card.new::after { content: 'NEW'; position: absolute; top: var(--space-2); right: var(--space-2); font-size: 0.625rem; font-weight: 600; padding: 0.125rem var(--space-2); background: var(--accent-primary); color: white; border-radius: var(--radius-sm); }
        .article-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-3); gap: var(--space-4); }
        .article-meta { display: flex; align-items: center; flex-wrap: wrap; gap: var(--space-2); font-size: 0.8125rem; color: var(--text-muted); }
        .article-source { color: var(--accent-primary); font-weight: 500; text-decoration: none; }
        .article-source:hover { text-decoration: underline; }
        .article-separator { opacity: 0.5; }
        .article-date { color: var(--text-muted); }
        .article-priority { font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; padding: var(--space-1) var(--space-2); border-radius: 4px; background: rgba(5, 150, 105, 0.12); color: var(--priority-color); white-space: nowrap; }
        .article-card.critical .article-priority { background: rgba(220, 38, 38, 0.12); }
        .article-card.high .article-priority { background: rgba(217, 119, 6, 0.12); }
        .article-card.critical .article-priority::before { content: '!! '; }
        .article-card.high .article-priority::before { content: '! '; }
        .article-title { font-size: 1.0625rem; font-weight: 600; line-height: 1.4; margin-bottom: var(--space-2); }
        .article-title a { color: var(--text-primary); text-decoration: none; }
        .article-title a:hover { color: var(--accent-primary); }
        .article-summary { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .article-footer { display: flex; justify-content: space-between; align-items: center; margin-top: var(--space-4); padding-top: var(--space-3); border-top: 1px solid var(--border-color); }
        .article-category { font-size: 0.75rem; color: var(--text-muted); background: var(--bg-secondary); padding: var(--space-1) var(--space-3); border-radius: var(--radius-full); }
        .article-actions { display: flex; gap: var(--space-1); opacity: 0; transition: opacity var(--transition-fast); }
        .article-card:hover .article-actions { opacity: 1; }
        .article-action { padding: var(--space-2); background: transparent; border: none; border-radius: 4px; cursor: pointer; color: var(--text-muted); transition: all var(--transition-fast); }
        .article-action:hover { background: var(--bg-secondary); color: var(--accent-primary); }
        .pagination { display: flex; justify-content: center; align-items: center; gap: var(--space-2); padding: var(--space-8) 0; }
        .pagination-btn { padding: var(--space-2) var(--space-4); font-size: 0.875rem; color: var(--text-primary); background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-sm); cursor: pointer; transition: all var(--transition-fast); }
        .pagination-btn:hover:not(:disabled) { color: white; background: var(--accent-primary); border-color: var(--accent-primary); }
        .pagination-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .pagination-btn.active { color: white; background: var(--accent-primary); border-color: var(--accent-primary); }
        .pagination-info { color: var(--text-muted); font-size: 0.875rem; }
        .skeleton-cards { display: flex; flex-direction: column; gap: var(--space-4); }
        .skeleton-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-md); padding: var(--space-5); }
        .skeleton-line { height: 1rem; background: linear-gradient(90deg, var(--bg-secondary) 25%, var(--border-color) 50%, var(--bg-secondary) 75%); background-size: 200% 100%; animation: shimmer 1.5s ease-in-out infinite; border-radius: 4px; margin-bottom: var(--space-2); }
        .skeleton-line:last-child { margin-bottom: 0; }
        .skeleton-line.w-20 { width: 20%; }
        .skeleton-line.w-30 { width: 30%; }
        .skeleton-line.w-50 { width: 50%; }
        .skeleton-line.w-70 { width: 70%; }
        .skeleton-line.w-90 { width: 90%; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        .empty-state { text-align: center; padding: var(--space-12) var(--space-8); }
        .empty-state-icon { font-size: 3rem; margin-bottom: var(--space-4); }
        .empty-state-title { font-size: 1.25rem; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2); }
        .empty-state-description { font-size: 0.9rem; color: var(--text-muted); margin-bottom: var(--space-6); }
        .empty-state-actions { display: flex; justify-content: center; gap: var(--space-3); flex-wrap: wrap; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); z-index: 1000; align-items: center; justify-content: center; padding: var(--space-4); }
        .modal-overlay.visible { display: flex; }
        .modal-content { background: var(--bg-card); border-radius: var(--radius-lg); max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: var(--space-5); border-bottom: 1px solid var(--border-color); }
        .modal-title { font-size: 1.125rem; font-weight: 600; }
        .modal-close { background: none; border: none; font-size: 1.5rem; color: var(--text-muted); cursor: pointer; padding: var(--space-1); line-height: 1; }
        .modal-close:hover { color: var(--text-primary); }
        .modal-body { padding: var(--space-5); }
        .modal-footer { display: flex; justify-content: flex-end; gap: var(--space-3); padding: var(--space-5); border-top: 1px solid var(--border-color); }
        .shortcuts-modal { max-width: 600px; }
        .shortcuts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: var(--space-6); }
        .shortcut-group h4 { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted); margin-bottom: var(--space-3); }
        .shortcut { display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-2); font-size: 0.875rem; }
        .shortcut kbd { display: inline-block; padding: 0.125rem var(--space-2); font-size: 0.75rem; font-family: monospace; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 4px; min-width: 1.5rem; text-align: center; }
        .shortcut span { color: var(--text-secondary); }
        .mobile-nav { display: none; position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-card); border-top: 1px solid var(--border-color); padding: var(--space-2); padding-bottom: calc(var(--space-2) + env(safe-area-inset-bottom)); z-index: 100; }
        @media (max-width: 768px) { .mobile-nav { display: flex; justify-content: space-around; } .main { padding-bottom: 80px; } .header-nav { display: none; } .header-content { padding: var(--space-3) var(--space-4); } .filter-bar { padding: var(--space-3) var(--space-4); overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease, opacity 0.3s ease; max-height: 500px; } .filter-bar.mobile-hidden { max-height: 0 !important; padding-top: 0 !important; padding-bottom: 0 !important; border-bottom: none; opacity: 0; pointer-events: none; } .freshness-indicator { display: none; } .sidebar { display: none; } .main { grid-template-columns: 1fr; } .article-card { padding: var(--space-3); } .article-title { font-size: 0.9375rem; } .article-summary { font-size: 0.8125rem; } }
        .mobile-nav-item { display: flex; flex-direction: column; align-items: center; gap: var(--space-1); padding: var(--space-2); background: none; border: none; color: var(--text-muted); font-size: 0.625rem; text-decoration: none; cursor: pointer; position: relative; min-width: 48px; flex: 1; }
        .mobile-nav-item.active { color: var(--accent-primary); }
        .mobile-nav-item svg { width: 22px; height: 22px; }
        .mobile-nav-badge { position: absolute; top: 0; right: var(--space-2); background: var(--accent-primary); color: white; font-size: 0.625rem; font-weight: 600; padding: 0.125rem var(--space-2); border-radius: var(--radius-full); }
        .footer { background: var(--bg-secondary); border-top: 1px solid var(--border-color); padding: var(--space-8); margin-top: var(--space-12); }
        .footer-content { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: var(--space-4); }
        .footer-text { font-size: 0.875rem; color: var(--text-muted); }
        .footer-links { display: flex; gap: var(--space-6); }
        .footer-links a { font-size: 0.875rem; color: var(--text-secondary); text-decoration: none; }
        .footer-links a:hover { color: var(--accent-primary); }
        .toast-container { position: fixed; bottom: 100px; right: var(--space-4); z-index: 1001; display: flex; flex-direction: column; gap: var(--space-2); }
        .toast { padding: var(--space-3) var(--space-4); background: var(--bg-card); border: 1px solid var(--border-color); border-radius: var(--radius-sm); box-shadow: var(--shadow-lg); font-size: 0.875rem; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .loaded-indicator { font-size: 0.75rem; color: var(--medium-color); animation: fadeOut 3s ease forwards; }
        @keyframes fadeOut { 0%, 70% { opacity: 1; } 100% { opacity: 0; } }
        @media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; } }
        @media (max-width: 480px) { .filter-row { flex-direction: column; align-items: stretch; gap: var(--space-4); } .filter-group { flex-wrap: wrap; justify-content: center; } .filter-divider { display: none; } .filter-summary { margin-left: 0; justify-content: center; } .search-input { width: 100%; } .search-input:focus { width: 100%; } .header-content { padding: var(--space-2) var(--space-3); } .logo span:not(.logo-icon):not(.logo-badge) { font-size: 1rem; } .domain-pill { font-size: 0.6875rem; } .filter-btn { padding: var(--space-2); font-size: 0.75rem; } }
        @media (hover: none) and (pointer: coarse) { .filter-btn { min-height: 44px; min-width: 44px; padding: var(--space-3) var(--space-4); } .btn-icon { min-width: 44px; min-height: 44px; } .mobile-nav-item { min-height: 44px; min-width: 44px; } .pagination-btn { min-height: 44px; min-width: 44px; } .article-action { min-width: 44px; min-height: 44px; } }
        @media (hover: none) { .article-actions { opacity: 1; } }
        .article-card:focus-within .article-actions { opacity: 1; }
        @media (max-width: 768px) { .toast-container { bottom: calc(100px + env(safe-area-inset-bottom)); } .top-stories-banner { display: none !important; } }
        .btn:disabled, .filter-btn:disabled, .pagination-btn:disabled { cursor: not-allowed; opacity: 0.5; }
        .new-articles-banner { display: flex; align-items: center; justify-content: center; gap: var(--space-3); padding: var(--space-2) var(--space-4); background: var(--accent-glow); border: 1px solid var(--accent-primary); border-radius: var(--radius-sm); margin-bottom: var(--space-3); font-size: 0.875rem; color: var(--accent-primary); }
        .new-articles-banner button { padding: var(--space-1) var(--space-2); font-size: 0.75rem; background: var(--accent-primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; }
        .new-articles-banner .close-banner { background: transparent; color: var(--text-muted); font-size: 1rem; padding: 0; margin-left: auto; }
    </style>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Screen reader announcements -->
    <div class="sr-only" aria-live="polite" id="announcements"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <a href="/" class="logo">
                    <span class="logo-icon">üì°</span>
                    <span>PolicyRadar</span>
                    <span class="logo-badge">Beta</span>
                </a>
                
                <nav class="header-nav" role="navigation" aria-label="Main navigation">
                    <a href="index.html" class="nav-link active" aria-current="page">Dashboard</a>
                    <a href="topic-explorer.html" class="nav-link">Topics</a>
                    <a href="knowledge-graph.html" class="nav-link">Graph</a>
                </nav>
            </div>
            
            <div class="header-right">
                <div class="freshness-indicator" aria-live="polite">
                    <span class="freshness-dot"></span>
                    <span id="last-updated">Loading...</span>
                </div>
                
                <div class="social-links">
                    <a href="https://twitter.com/PolicyRadarIN" target="_blank" rel="noopener" aria-label="Follow on X/Twitter">ùïè</a>
                    <a href="https://linkedin.com/company/policyradarin" target="_blank" rel="noopener" aria-label="Follow on LinkedIn">in</a>
                </div>
                
                <div class="header-actions">
                    <button class="btn btn-icon" onclick="showPdfModal()" aria-label="Export as PDF" title="Export PDF (p)">üìÑ</button>
                    <button class="btn btn-icon" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle theme">üåì</button>
                    <button class="btn btn-icon" onclick="showShortcutsHelp()" aria-label="Keyboard shortcuts" title="Keyboard shortcuts (?)">‚å®Ô∏è</button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Filter Bar -->
    <div class="filter-bar">
        <div class="filter-content">
            <div class="filter-row">
                <div class="filter-group">
                    <div class="search-wrapper">
                        <input type="search" id="search-input" class="search-input" placeholder="Search articles..." aria-label="Search articles" oninput="handleSearch(this.value)">
                        <kbd class="search-kbd" id="search-kbd">/</kbd>
                        <button class="search-clear hidden" id="clear-search-btn" onclick="clearSearch()" aria-label="Clear search">√ó</button>
                    </div>
                </div>
                <div class="filter-divider"></div>
                <div class="filter-group">
                    <span class="filter-label">Time</span>
                    <div role="radiogroup" aria-label="Time filter">
                        <button class="filter-btn active" data-time="all" onclick="setTimeFilter('all', this)" role="radio" aria-checked="true">All</button>
                        <button class="filter-btn" data-time="today" onclick="setTimeFilter('today', this)" role="radio" aria-checked="false">Today</button>
                        <button class="filter-btn" data-time="week" onclick="setTimeFilter('week', this)" role="radio" aria-checked="false">Week</button>
                    </div>
                </div>
                <div class="filter-divider"></div>
                <div class="filter-group">
                    <span class="filter-label">Priority</span>
                    <div role="radiogroup" aria-label="Priority filter">
                        <button class="filter-btn active" data-priority="all" onclick="setPriorityFilter('all', this)" role="radio" aria-checked="true">All</button>
                        <button class="filter-btn critical" data-priority="critical" onclick="setPriorityFilter('critical', this)" role="radio" aria-checked="false"><span class="priority-dot critical"></span>Critical</button>
                        <button class="filter-btn high" data-priority="high" onclick="setPriorityFilter('high', this)" role="radio" aria-checked="false"><span class="priority-dot high"></span>High+</button>
                    </div>
                </div>
                <div class="filter-divider"></div>
                <div class="filter-summary">
                    <span class="filter-count" id="filter-count">Loading...</span>
                    <button class="filter-clear-all" id="clear-all-filters" onclick="resetFilters()" style="display: none;">Clear all</button>
                </div>
            </div>
            <div class="domain-filter-row">
                <div class="domain-pills" role="radiogroup" aria-label="Domain filter">
                    <button class="domain-pill active" data-domain="" onclick="setDomainFilter('', this)">All Domains</button>
                    <button class="domain-pill" data-domain="economy" onclick="setDomainFilter('economy', this)">üí∞ Economy & Finance</button>
                    <button class="domain-pill" data-domain="technology" onclick="setDomainFilter('technology', this)">üíª Technology</button>
                    <button class="domain-pill" data-domain="legal" onclick="setDomainFilter('legal', this)">‚öñÔ∏è Legal & Regulatory</button>
                    <button class="domain-pill" data-domain="governance" onclick="setDomainFilter('governance', this)">üèõÔ∏è Governance</button>
                    <button class="domain-pill" data-domain="social" onclick="setDomainFilter('social', this)">üè• Social Sector</button>
                </div>
            </div>
            <div class="subsector-filter-row" id="subsector-row" style="display: none;">
                <span class="subsector-label">Sub-sector:</span>
                <div class="subsector-pills" id="subsector-pills"></div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main class="main" id="main-content">
        <aside class="sidebar">
            <div class="critical-summary" id="critical-summary">
                <div class="critical-summary-header">
                    <div class="pulse"></div>
                    <span id="critical-count-text">0 Critical Items Today</span>
                    <button class="expand-btn" onclick="filterByCritical()">View All</button>
                </div>
                <div class="critical-summary-preview" id="critical-preview"></div>
            </div>
            <div class="card">
                <h2 class="card-title">üìä Today's Overview</h2>
                <div class="stats-grid">
                    <div class="stat-item"><div class="stat-value" id="stat-total">-</div><div class="stat-label">Total Articles</div><div class="stat-trend" id="stat-total-trend"></div></div>
                    <div class="stat-item critical"><div class="stat-value" id="stat-critical">-</div><div class="stat-label">Critical</div></div>
                    <div class="stat-item high"><div class="stat-value" id="stat-high">-</div><div class="stat-label">High Priority</div></div>
                    <div class="stat-item"><div class="stat-value" id="stat-sources">-</div><div class="stat-label">Sources</div></div>
                </div>
            </div>
            <div class="card">
                <h2 class="card-title">üì∞ Multi-Source Stories</h2>
                <div class="story-clusters-list" id="story-clusters-list"></div>
            </div>
            <div class="card newsletter-cta">
                <h2 class="card-title">üì¨ Weekly Digest</h2>
                <p>Get the week's top policy developments in one email.</p>
                <a href="https://policyradar.beehiiv.com/subscribe" target="_blank" rel="noopener" class="btn btn-primary">Subscribe Free</a>
            </div>
        </aside>
        <section class="articles-section" aria-label="Policy articles">
            <div class="articles-header">
                <h2>üìã Policy Feed</h2>
                <span id="articles-showing" class="filter-count"></span>
            </div>
            <div class="articles-grid" id="articles-grid" role="feed" aria-busy="true">
                <div class="skeleton-cards" id="loading-skeleton">
                    <div class="skeleton-card"><div class="skeleton-line w-30"></div><div class="skeleton-line w-90"></div><div class="skeleton-line w-70"></div><div class="skeleton-line w-50"></div></div>
                    <div class="skeleton-card"><div class="skeleton-line w-20"></div><div class="skeleton-line w-90"></div><div class="skeleton-line w-70"></div><div class="skeleton-line w-50"></div></div>
                    <div class="skeleton-card"><div class="skeleton-line w-30"></div><div class="skeleton-line w-90"></div><div class="skeleton-line w-70"></div><div class="skeleton-line w-50"></div></div>
                </div>
            </div>
            <div class="pagination" id="pagination"></div>
        </section>
    </main>
    
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">¬© 2026 PolicyRadar. Aggregating policy intelligence from 270+ sources.</div>
            <div class="footer-links">
                <a href="https://twitter.com/PolicyRadarIN" target="_blank" rel="noopener">Twitter</a>
                <a href="https://linkedin.com/company/policyradarin" target="_blank" rel="noopener">LinkedIn</a>
                <a href="https://policyradar.beehiiv.com/subscribe" target="_blank" rel="noopener">Newsletter</a>
            </div>
        </div>
    </footer>
    
    <nav class="mobile-nav" aria-label="Mobile navigation">
        <a href="index.html" class="mobile-nav-item active"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg><span>Feed</span></a>
        <button class="mobile-nav-item" onclick="toggleMobileFilters()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z"/></svg><span>Filter</span><span class="mobile-nav-badge" id="active-filter-count" style="display: none;">0</span></button>
        <button class="mobile-nav-item" onclick="showPdfModal()" aria-label="Export PDF"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg><span>Export</span></button>
        <a href="topic-explorer.html" class="mobile-nav-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4"/><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/></svg><span>Explore</span></a>
        <a href="knowledge-graph.html" class="mobile-nav-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="6" cy="6" r="3"/><circle cx="18" cy="6" r="3"/><circle cx="12" cy="18" r="3"/><line x1="8.5" y1="7.5" x2="10" y2="15.5"/><line x1="15.5" y1="7.5" x2="14" y2="15.5"/><line x1="9" y1="6" x2="15" y2="6"/></svg><span>Graph</span></a>
    </nav>
    
    <div class="modal-overlay" id="pdf-modal" role="dialog" aria-labelledby="pdf-modal-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header"><h3 class="modal-title" id="pdf-modal-title">üìÑ Export PDF Briefing</h3><button class="modal-close" onclick="closePdfModal()" aria-label="Close">&times;</button></div>
            <div class="modal-body"><p>Download a PDF briefing with <strong id="pdf-article-count">0</strong> articles matching your current filters.</p><p style="font-size: 0.875rem; color: var(--text-muted); margin-top: 1rem;">The PDF will include article titles, sources, publication dates, and direct links.</p></div>
            <div class="modal-footer"><button class="btn" onclick="closePdfModal()">Cancel</button><button class="btn btn-primary" onclick="downloadPdf()">Download PDF</button></div>
        </div>
    </div>
    
    <div class="modal-overlay" id="shortcuts-modal" role="dialog" aria-labelledby="shortcuts-modal-title" aria-modal="true">
        <div class="modal-content shortcuts-modal">
            <div class="modal-header"><h3 class="modal-title" id="shortcuts-modal-title">‚å®Ô∏è Keyboard Shortcuts</h3><button class="modal-close" onclick="closeShortcutsModal()" aria-label="Close">&times;</button></div>
            <div class="modal-body">
                <div class="shortcuts-grid">
                    <div class="shortcut-group"><h4>Navigation</h4><div class="shortcut"><kbd>j</kbd> / <kbd>k</kbd> <span>Next / Prev article</span></div><div class="shortcut"><kbd>o</kbd> <span>Open article</span></div><div class="shortcut"><kbd>/</kbd> <span>Focus search</span></div></div>
                    <div class="shortcut-group"><h4>Filters</h4><div class="shortcut"><kbd>t</kbd> <span>Today only</span></div><div class="shortcut"><kbd>h</kbd> <span>High priority+</span></div><div class="shortcut"><kbd>Esc</kbd> <span>Clear filters</span></div></div>
                    <div class="shortcut-group"><h4>Actions</h4><div class="shortcut"><kbd>p</kbd> <span>Export PDF</span></div><div class="shortcut"><kbd>?</kbd> <span>This help</span></div></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="toast-container" id="toast-container"></div>
    
    <!-- ========================================
         MAIN APPLICATION JAVASCRIPT
         All core functionality is inline to avoid 404 errors from missing external JS files
         ======================================== -->
    <script src="assets/js/main.js"></script>
</body>
</html>
